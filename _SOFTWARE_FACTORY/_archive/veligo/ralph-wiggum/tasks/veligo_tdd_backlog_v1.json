{
  "backlog_version": "2.0.0",
  "generated_at": "2026-01-14T12:00:00Z",
  "total_tasks": 234,
  "wsjf_priority": true,
  "categories": {
    "journeys": {
      "count": 120,
      "description": "End-to-end user journeys covering complete workflows"
    },
    "ao_compliance": {
      "count": 45,
      "description": "Appel d'Offres compliance tests (IDFM, Nantes, Lyon)"
    },
    "white_label": {
      "count": 28,
      "description": "Multi-tenant, theming, custom domains"
    },
    "modules": {
      "count": 52,
      "description": "Module-specific integration tests"
    },
    "rgpd": {
      "count": 20,
      "description": "GDPR compliance and data protection"
    },
    "security": {
      "count": 25,
      "description": "Security and authentication tests"
    },
    "ux_accessibility": {
      "count": 18,
      "description": "UX and accessibility tests"
    }
  },
  "tasks": [
    {
      "id": "T001",
      "category": "journeys",
      "subcategory": "auth",
      "ao_ref": "AO-IDFM-AUTH-001",
      "title": "FranceConnect SSO Login Flow",
      "wsjf_score": 9.8,
      "files_affected": [
        "tests/e2e/journeys/auth-franceconnect-sso.spec.ts",
        "veligo-platform/frontend/src/lib/components/LoginWidget.svelte",
        "store/backend/src/services/auth/franceconnect.rs"
      ],
      "test_template": "journey_sso.spec.ts",
      "selectors": [
        "[data-testid=\"sso-franceconnect\"]",
        "[data-testid=\"franceconnect-callback\"]",
        "[data-testid=\"login-success\"]"
      ],
      "test_cases": [
        "J1: Initiate FranceConnect → Redirect to FC → Callback with token → Login success",
        "J2: FranceConnect with existing account → Link accounts",
        "J3: FranceConnect with new email → Auto-register → Login",
        "J4: FranceConnect error handling → Show error message"
      ],
      "complexity": "medium",
      "estimated_loc": 180,
      "dependencies": [],
      "status": "PENDING",
      "priority": "P0"
    },
    {
      "id": "T002",
      "category": "journeys",
      "subcategory": "auth",
      "ao_ref": "AO-IDFM-AUTH-001",
      "title": "Google/Apple/Microsoft SSO Complete Flow",
      "wsjf_score": 9.5,
      "files_affected": [
        "tests/e2e/journeys/auth-sso-multi.spec.ts",
        "veligo-platform/frontend/src/lib/components/LoginWidget.svelte",
        "store/backend/src/services/auth/sso.rs"
      ],
      "test_template": "journey_sso.spec.ts",
      "selectors": [
        "[data-testid=\"login-google\"]",
        "[data-testid=\"login-apple\"]",
        "[data-testid=\"login-microsoft\"]",
        "[data-testid=\"sso-link-success\"]"
      ],
      "test_cases": [
        "J5: Google OAuth flow → Login success",
        "J6: Apple Sign-In flow → Login success",
        "J7: Microsoft OAuth flow → Login success",
        "J8: SSO account linking with existing email"
      ],
      "complexity": "medium",
      "estimated_loc": 200,
      "dependencies": ["T001"],
      "status": "PENDING",
      "priority": "P0"
    },
    {
      "id": "T003",
      "category": "journeys",
      "subcategory": "auth",
      "ao_ref": "AO-IDFM-AUTH-002",
      "title": "Magic Link Login Flow",
      "wsjf_score": 9.2,
      "files_affected": [
        "tests/e2e/journeys/auth-magic-link.spec.ts",
        "veligo-platform/frontend/src/lib/components/LoginWidget.svelte",
        "store/backend/src/services/auth/magic_link.rs"
      ],
      "test_template": "journey_auth.spec.ts",
      "selectors": [
        "[data-testid=\"login-email-input\"]",
        "[data-testid=\"send-magic-link\"]",
        "[data-testid=\"magic-link-success\"]",
        "[data-testid=\"magic-link-expired\"]"
      ],
      "test_cases": [
        "J9: Request magic link → Email received → Click link → Login",
        "J10: Magic link expiration (24h) → Show expired message",
        "J11: Invalid magic link → Show error",
        "J12: Resend magic link → Rate limiting applied"
      ],
      "complexity": "medium",
      "estimated_loc": 160,
      "dependencies": [],
      "status": "PENDING",
      "priority": "P0"
    },
    {
      "id": "T004",
      "category": "security",
      "subcategory": "headers",
      "ao_ref": "AO-IDFM-SEC-001",
      "title": "Security Headers Configuration",
      "wsjf_score": 9.0,
      "files_affected": [
        "tests/e2e/security/security-headers.spec.ts",
        "nginx/sites-available/veligo-frontend"
      ],
      "test_template": "security_headers.spec.ts",
      "selectors": [],
      "test_cases": [
        "S1: HSTS header present with 1 year max-age",
        "S2: X-Frame-Options set to DENY",
        "S3: X-Content-Type-Options set to nosniff",
        "S4: CSP header present and restrictive",
        "S5: Referrer-Policy strict-origin-when-cross-origin"
      ],
      "complexity": "low",
      "estimated_loc": 80,
      "dependencies": [],
      "status": "PENDING",
      "priority": "P0"
    },
    {
      "id": "T005",
      "category": "journeys",
      "subcategory": "auth",
      "ao_ref": "AO-IDFM-AUTH-003",
      "title": "MFA Setup and Verification Flow",
      "wsjf_score": 8.8,
      "files_affected": [
        "tests/e2e/journeys/auth-mfa.spec.ts",
        "veligo-platform/frontend/src/lib/components/MFASetup.svelte",
        "store/backend/src/services/auth/mfa.rs"
      ],
      "test_template": "journey_mfa.spec.ts",
      "selectors": [
        "[data-testid=\"mfa-setup\"]",
        "[data-testid=\"mfa-qr-code\"]",
        "[data-testid=\"mfa-verify-input\"]",
        "[data-testid=\"mfa-backup-codes\"]"
      ],
      "test_cases": [
        "J13: Enable MFA with authenticator app → Scan QR → Verify code → Success",
        "J14: MFA backup codes generation → Store securely → Display once",
        "J15: MFA login flow → Enter TOTP → Login success",
        "J16: MFA disable flow → Verify password → MFA disabled",
        "J17: MFA with wrong code → Show error → Retry limit enforced"
      ],
      "complexity": "high",
      "estimated_loc": 250,
      "dependencies": ["T001", "T002", "T003"],
      "status": "PENDING",
      "priority": "P0"
    },
    {
      "id": "T006",
      "category": "journeys",
      "subcategory": "registration",
      "ao_ref": "AO-IDFM-REG-001",
      "title": "Complete User Registration Flow",
      "wsjf_score": 8.5,
      "files_affected": [
        "tests/e2e/journeys/auth-registration.spec.ts",
        "veligo-platform/frontend/src/routes/register/+page.svelte",
        "store/backend/src/services/auth/registration.rs"
      ],
      "test_template": "journey_registration.spec.ts",
      "selectors": [
        "[data-testid=\"register-form\"]",
        "[data-testid=\"register-email\"]",
        "[data-testid=\"register-password\"]",
        "[data-testid=\"register-submit\"]",
        "[data-testid=\"email-verification-sent\"]"
      ],
      "test_cases": [
        "J18: Complete registration → Email verification → Account activated",
        "J19: Registration with existing email → Show error",
        "J20: Registration with weak password → Validation error",
        "J21: Registration form validation → All fields required",
        "J22: Registration with FranceConnect → Skip email verification"
      ],
      "complexity": "medium",
      "estimated_loc": 200,
      "dependencies": ["T001"],
      "status": "PENDING",
      "priority": "P0"
    },
    {
      "id": "T007",
      "category": "rgpd",
      "subcategory": "consent",
      "ao_ref": "AO-IDFM-RGPD-001",
      "title": "GDPR Consent Management Flow",
      "wsjf_score": 8.3,
      "files_affected": [
        "tests/e2e/rgpd/consent-management.spec.ts",
        "veligo-platform/frontend/src/lib/components/ConsentBanner.svelte",
        "store/backend/src/services/rgpd/consent.rs"
      ],
      "test_template": "rgpd_consent.spec.ts",
      "selectors": [
        "[data-testid=\"consent-banner\"]",
        "[data-testid=\"consent-accept-all\"]",
        "[data-testid=\"consent-reject-all\"]",
        "[data-testid=\"consent-customize\"]",
        "[data-testid=\"consent-saved\"]"
      ],
      "test_cases": [
        "R1: Consent banner appears → Accept all → Preferences saved",
        "R2: Consent banner → Reject all → Only essential cookies",
        "R3: Customize consent → Toggle categories → Save preferences",
        "R4: Change consent later → Update in settings → Propagate to all services",
        "R5: Consent withdrawal → Delete personal data → Confirmation email"
      ],
      "complexity": "medium",
      "estimated_loc": 180,
      "dependencies": ["T006"],
      "status": "PENDING",
      "priority": "P0"
    },
    {
      "id": "T008",
      "category": "rgpd",
      "subcategory": "data_export",
      "ao_ref": "AO-IDFM-RGPD-002",
      "title": "Data Export and Portability",
      "wsjf_score": 8.0,
      "files_affected": [
        "tests/e2e/rgpd/data-export.spec.ts",
        "veligo-platform/frontend/src/routes/settings/data-export/+page.svelte",
        "store/backend/src/services/rgpd/export.rs"
      ],
      "test_template": "rgpd_export.spec.ts",
      "selectors": [
        "[data-testid=\"data-export-button\"]",
        "[data-testid=\"export-progress\"]",
        "[data-testid=\"export-download-ready\"]",
        "[data-testid=\"export-email-sent\"]"
      ],
      "test_cases": [
        "R6: Request data export → Generate JSON → Download starts",
        "R7: Large data export → Async processing → Email notification",
        "R8: Export includes all personal data → User data, bookings, payments",
        "R9: Export format machine-readable → JSON format compliance",
        "R10: Data export for deceased user → Authorized request → Full export"
      ],
      "complexity": "medium",
      "estimated_loc": 160,
      "dependencies": ["T006"],
      "status": "PENDING",
      "priority": "P0"
    },
    {
      "id": "T009",
      "category": "rgpd",
      "subcategory": "deletion",
      "ao_ref": "AO-IDFM-RGPD-003",
      "title": "Account Deletion and Right to Erasure",
      "wsjf_score": 7.8,
      "files_affected": [
        "tests/e2e/rgpd/account-deletion.spec.ts",
        "veligo-platform/frontend/src/routes/settings/delete-account/+page.svelte",
        "store/backend/src/services/rgpd/deletion.rs"
      ],
      "test_template": "rgpd_deletion.spec.ts",
      "selectors": [
        "[data-testid=\"delete-account-button\"]",
        "[data-testid=\"delete-confirm-password\"]",
        "[data-testid=\"delete-confirm-checkbox\"]",
        "[data-testid=\"deletion-scheduled\"]"
      ],
      "test_cases": [
        "R11: Request account deletion → Password confirmation → 30-day grace period",
        "R12: Cancel deletion request → During grace period → Restore account",
        "R13: Immediate deletion request → Reason: legal obligation → Immediate purge",
        "R14: Deletion removes all personal data → Anonymize bookings → Keep aggregate stats",
        "R15: Deletion notification → Email sent → Confirmation of erasure"
      ],
      "complexity": "high",
      "estimated_loc": 220,
      "dependencies": ["T007", "T008"],
      "status": "PENDING",
      "priority": "P0"
    },
    {
      "id": "T010",
      "category": "journeys",
      "subcategory": "booking",
      "ao_ref": "AO-IDFM-BOOK-001",
      "title": "Bike Search and Station Discovery",
      "wsjf_score": 7.5,
      "files_affected": [
        "tests/e2e/journeys/booking-search.spec.ts",
        "veligo-platform/frontend/src/lib/components/StationMap.svelte",
        "store/backend/src/services/station/search.rs"
      ],
      "test_template": "journey_booking.spec.ts",
      "selectors": [
        "[data-testid=\"search-input\"]",
        "[data-testid=\"station-card\"]",
        "[data-testid=\"available-bikes\"]",
        "[data-testid=\"map-marker\"]"
      ],
      "test_cases": [
        "J23: Search by location → Show nearby stations → Display bike availability",
        "J24: Filter by bike type → E-bikes, mechanical, cargo → Update results",
        "J25: Map interaction → Click station → Show details panel",
        "J26: Search with no results → Show suggestions → Alternative locations",
        "J27: Real-time availability update → WebSocket updates → UI refresh"
      ],
      "complexity": "high",
      "estimated_loc": 280,
      "dependencies": ["T006"],
      "status": "PENDING",
      "priority": "P1"
    },
    {
      "id": "T011",
      "category": "journeys",
      "subcategory": "booking",
      "ao_ref": "AO-IDFM-BOOK-002",
      "title": "Bike Reservation and Booking Creation",
      "wsjf_score": 7.3,
      "files_affected": [
        "tests/e2e/journeys/booking-create.spec.ts",
        "veligo-platform/frontend/src/routes/booking/[id]/+page.svelte",
        "store/backend/src/services/booking/create.rs"
      ],
      "test_template": "journey_booking.spec.ts",
      "selectors": [
        "[data-testid=\"reserve-bike-button\"]",
        "[data-testid=\"booking-duration\"]",
        "[data-testid=\"booking-confirm\"]",
        "[data-testid=\"booking-code\"]"
      ],
      "test_cases": [
        "J28: Reserve bike → Select duration → Confirm booking → Generate code",
        "J29: Reservation expiration (15 min) → Release bike → Notify user",
        "J30: Reserve when no bikes available → Join waiting list → Notify availability",
        "J31: Modify reservation → Change duration → Update expiration",
        "J32: Cancel reservation → Release bike → Update availability"
      ],
      "complexity": "high",
      "estimated_loc": 260,
      "dependencies": ["T010"],
      "status": "PENDING",
      "priority": "P1"
    },
    {
      "id": "T012",
      "category": "journeys",
      "subcategory": "booking",
      "ao_ref": "AO-IDFM-BOOK-003",
      "title": "Bike Unlock and Ride Start",
      "wsjf_score": 7.0,
      "files_affected": [
        "tests/e2e/journeys/booking-ride.spec.ts",
        "veligo-platform/frontend/src/routes/ride/[id]/+page.svelte",
        "store/backend/src/services/booking/unlock.rs"
      ],
      "test_template": "journey_ride.spec.ts",
      "selectors": [
        "[data-testid=\"unlock-bike-button\"]",
        "[data-testid=\"ride-timer\"]",
        "[data-testid=\"ride-pause\"]",
        "[data-testid=\"ride-end\"]"
      ],
      "test_cases": [
        "J33: Unlock bike with code → Enter code → Bike unlocks → Timer starts",
        "J34: Unlock bike with NFC → Tap phone → Bike unlocks",
        "J35: Pause ride → Timer stops → Resume within limit",
        "J36: Ride timeout warning → 5 min remaining → Extend option",
        "J37: Emergency stop → Contact support → Safety protocol"
      ],
      "complexity": "high",
      "estimated_loc": 240,
      "dependencies": ["T011"],
      "status": "PENDING",
      "priority": "P1"
    },
    {
      "id": "T013",
      "category": "journeys",
      "subcategory": "booking",
      "ao_ref": "AO-IDFM-BOOK-004",
      "title": "Ride End and Payment",
      "wsjf_score": 6.8,
      "files_affected": [
        "tests/e2e/journeys/booking-payment.spec.ts",
        "veligo-platform/frontend/src/routes/ride/[id]/end/+page.svelte",
        "store/backend/src/services/booking/complete.rs"
      ],
      "test_template": "journey_payment.spec.ts",
      "selectors": [
        "[data-testid=\"end-ride-button\"]",
        "[data-testid=\"ride-summary\"]",
        "[data-testid=\"payment-method\"]",
        "[data-testid=\"payment-success\"]"
      ],
      "test_cases": [
        "J38: End ride at station → Calculate cost → Display summary",
        "J39: Payment with stored card → Auto-charge → Receipt sent",
        "J40: Payment failed → Retry payment → Alternative method",
        "J41: Partial ride covered by subscription → No charge → Deduct credits",
        "J42: Generate invoice → Download PDF → Email copy"
      ],
      "complexity": "medium",
      "estimated_loc": 200,
      "dependencies": ["T012"],
      "status": "PENDING",
      "priority": "P1"
    },
    {
      "id": "T014",
      "category": "modules",
      "subcategory": "payment",
      "ao_ref": "AO-IDFM-PAY-001",
      "title": "Stripe Payment Integration",
      "wsjf_score": 6.5,
      "files_affected": [
        "tests/e2e/modules/payment-stripe.spec.ts",
        "store/backend/src/modules/payment/stripe.rs",
        "veligo-platform/frontend/src/lib/components/PaymentStripe.svelte"
      ],
      "test_template": "module_payment.spec.ts",
      "selectors": [
        "[data-testid=\"stripe-card-element\"]",
        "[data-testid=\"stripe-3ds-challenge\"]",
        "[data-testid=\"payment-success\"]"
      ],
      "test_cases": [
        "M1: Add payment method → Enter card details → Stripe validates → Saved",
        "M2: Payment with new card → 3DS challenge → Success",
        "M3: Payment declined → Show error → Retry option",
        "M4: Subscription payment → Recurring charge → Invoice generated",
        "M5: Refund processing → Partial refund → Confirmation"
      ],
      "complexity": "high",
      "estimated_loc": 280,
      "dependencies": ["T013"],
      "status": "PENDING",
      "priority": "P1"
    },
    {
      "id": "T015",
      "category": "modules",
      "subcategory": "payment",
      "ao_ref": "AO-IDFM-PAY-002",
      "title": "PayPal Payment Integration",
      "wsjf_score": 6.2,
      "files_affected": [
        "tests/e2e/modules/payment-paypal.spec.ts",
        "store/backend/src/modules/payment/paypal.rs"
      ],
      "test_template": "module_payment.spec.ts",
      "selectors": [
        "[data-testid=\"paypal-button\"]",
        "[data-testid=\"paypal-login\"]",
        "[data-testid=\"paypal-success\"]"
      ],
      "test_cases": [
        "M6: PayPal payment → Redirect to PayPal → Approve → Return → Success",
        "M7: PayPal cancellation → User cancels → Return to app → No charge",
        "M8: PayPal connected account → Auto-pay enabled → Quick checkout",
        "M9: PayPal refund → Process refund → Confirmation email"
      ],
      "complexity": "medium",
      "estimated_loc": 180,
      "dependencies": ["T014"],
      "status": "PENDING",
      "priority": "P1"
    },
    {
      "id": "T016",
      "category": "modules",
      "subcategory": "payment",
      "ao_ref": "AO-IDFM-PAY-003",
      "title": "SEPA Direct Debit Integration",
      "wsjf_score": 6.0,
      "files_affected": [
        "tests/e2e/modules/payment-sepa.spec.ts",
        "store/backend/src/modules/payment/sepa.rs"
      ],
      "test_template": "module_payment.spec.ts",
      "selectors": [
        "[data-testid=\"sepa-form\"]",
        "[data-testid=\"iban-input\"]",
        "[data-testid=\"mandate-signature\"]"
      ],
      "test_cases": [
        "M10: SEPA mandate setup → Enter IBAN → Validate → Sign mandate",
        "M11: SEPA payment collection → Due date → Bank transfer",
        "M12: SEPA payment failed → Insufficient funds → Retry notification",
        "M13: SEPA mandate revocation → Cancel future payments → Prorated refund"
      ],
      "complexity": "medium",
      "estimated_loc": 200,
      "dependencies": ["T014"],
      "status": "PENDING",
      "priority": "P1"
    },
    {
      "id": "T017",
      "category": "modules",
      "subcategory": "subscription",
      "ao_ref": "AO-IDFM-SUB-001",
      "title": "Subscription Plans and Management",
      "wsjf_score": 5.8,
      "files_affected": [
        "tests/e2e/modules/subscription.spec.ts",
        "store/backend/src/modules/subscription/plans.rs",
        "veligo-platform/frontend/src/routes/subscription/+page.svelte"
      ],
      "test_template": "module_subscription.spec.ts",
      "selectors": [
        "[data-testid=\"subscription-plans\"]",
        "[data-testid=\"plan-card\"]",
        "[data-testid=\"subscribe-button\"]",
        "[data-testid=\"subscription-active\"]"
      ],
      "test_cases": [
        "M14: Browse subscription plans → Compare features → Select plan",
        "M15: Subscribe to plan → Payment → Subscription activated",
        "M16: Subscription upgrade → Prorated charge → Immediate access",
        "M17: Subscription downgrade → End of billing period → Updated features",
        "M18: Subscription cancellation → Continue until end → No refund"
      ],
      "complexity": "medium",
      "estimated_loc": 220,
      "dependencies": ["T014", "T015", "T016"],
      "status": "PENDING",
      "priority": "P1"
    },
    {
      "id": "T018",
      "category": "modules",
      "subcategory": "subscription",
      "ao_ref": "AO-IDFM-SUB-002",
      "title": "Subscription Credits and Billing",
      "wsjf_score": 5.5,
      "files_affected": [
        "tests/e2e/modules/subscription-credits.spec.ts",
        "store/backend/src/modules/subscription/credits.rs"
      ],
      "test_template": "module_subscription.spec.ts",
      "selectors": [
        "[data-testid=\"credit-balance\"]",
        "[data-testid=\"ride-credits\"]",
        "[data-testid=\"billing-history\"]"
      ],
      "test_cases": [
        "M19: View credit balance → Display remaining rides/minutes",
        "M20: Ride with credits → Deduct balance → Update display",
        "M21: Credits auto-renew → Top-up option → Notification",
        "M22: Billing history → Download invoices → Payment methods",
        "M23: Failed payment recovery → Retry notification → Grace period"
      ],
      "complexity": "medium",
      "estimated_loc": 180,
      "dependencies": ["T017"],
      "status": "PENDING",
      "priority": "P1"
    },
    {
      "id": "T019",
      "category": "modules",
      "subcategory": "auth",
      "ao_ref": "AO-IDFM-AUTH-004",
      "title": "IDNUM Identity Verification",
      "wsjf_score": 7.2,
      "files_affected": [
        "tests/e2e/modules/auth-idnum.spec.ts",
        "store/backend/src/modules/auth/idnum.rs"
      ],
      "test_template": "module_auth.spec.ts",
      "selectors": [
        "[data-testid=\"idnum-verification\"]",
        "[data-testid=\"idnum-document-upload\"]",
        "[data-testid=\"idnum-verified\"]"
      ],
      "test_cases": [
        "M24: IDNUM verification flow → Upload ID → Facial recognition → Verification",
        "M25: IDNUM expired document → Rejection → New upload request",
        "M26: IDNUM verification pending → Manual review → Status update",
        "M27: IDNUM fraud detection → Flag account → Security review"
      ],
      "complexity": "high",
      "estimated_loc": 260,
      "dependencies": ["T006"],
      "status": "PENDING",
      "priority": "P0"
    },
    {
      "id": "T020",
      "category": "security",
      "subcategory": "csrf",
      "ao_ref": "AO-IDFM-SEC-002",
      "title": "CSRF Protection Validation",
      "wsjf_score": 8.6,
      "files_affected": [
        "tests/e2e/security/csrf-protection.spec.ts",
        "store/backend/src/middleware/csrf.rs"
      ],
      "test_template": "security_csrf.spec.ts",
      "selectors": [],
      "test_cases": [
        "S6: CSRF token is set in cookie on GET requests",
        "S7: POST without CSRF token → 403 Forbidden",
        "S8: POST with valid CSRF token → Success",
        "S9: POST with invalid CSRF token → 403 Forbidden",
        "S10: CSRF token refresh after state-changing request"
      ],
      "complexity": "medium",
      "estimated_loc": 140,
      "dependencies": [],
      "status": "PENDING",
      "priority": "P0"
    },
    {
      "id": "T021",
      "category": "security",
      "subcategory": "rate_limiting",
      "ao_ref": "AO-IDFM-SEC-003",
      "title": "Rate Limiting Configuration",
      "wsjf_score": 8.4,
      "files_affected": [
        "tests/e2e/security/rate-limiting.spec.ts",
        "store/backend/src/middleware/rate_limit.rs"
      ],
      "test_template": "security_rate.spec.ts",
      "selectors": [],
      "test_cases": [
        "S11: Login rate limit → 5 attempts per 15 min → Block excess",
        "S12: API rate limit → 1000 req/hour → 429 Too Many Requests",
        "S13: Password reset rate limit → 3 per hour → Email notification",
        "S14: Rate limit whitelist → Admin IPs → No limits",
        "S15: Rate limit headers → X-RateLimit-* → Remaining requests"
      ],
      "complexity": "medium",
      "estimated_loc": 160,
      "dependencies": ["T004"],
      "status": "PENDING",
      "priority": "P0"
    },
    {
      "id": "T022",
      "category": "ao_compliance",
      "subcategory": "idfm",
      "ao_ref": "AO-IDFM-CORE-001",
      "title": "IDFM AO Complete Compliance",
      "wsjf_score": 9.6,
      "files_affected": [
        "tests/e2e/ao/idfm-full-compliance.spec.ts"
      ],
      "test_template": "ao_compliance.spec.ts",
      "selectors": [
        "[data-testid=\"idfm-compliance\"]",
        "[data-testid=\"idfm-report\"]"
      ],
      "test_cases": [
        "AO1: Full IDFM AO requirements → All 45 tests passing",
        "AO2: Accessibility compliance → RGAA level AA",
        "AO3: Data privacy → GDPR + French data protection",
        "AO4: Service availability → 99.5% uptime SLA",
        "AO5: Reporting → Monthly usage reports → IDFM format"
      ],
      "complexity": "high",
      "estimated_loc": 450,
      "dependencies": ["T007", "T008", "T009", "T020", "T021"],
      "status": "PENDING",
      "priority": "P0"
    },
    {
      "id": "T023",
      "category": "ao_compliance",
      "subcategory": "nantes",
      "ao_ref": "AO-NANTES-CORE-001",
      "title": "Nantes AO Complete Compliance",
      "wsjf_score": 9.4,
      "files_affected": [
        "tests/e2e/ao/nantes-full-compliance.spec.ts"
      ],
      "test_template": "ao_compliance.spec.ts",
      "selectors": [
        "[data-testid=\"nantes-compliance\"]",
        "[data-testid=\"nantes-report\"]"
      ],
      "test_cases": [
        "AO6: Full Nantes AO requirements → All 45 tests passing",
        "AO7: Local integration → TAN transport card → Unified ticketing",
        "AO8: Accessibility compliance → RGAA level AA",
        "AO9: Data privacy → GDPR + French data protection",
        "AO10: Reporting → Monthly usage reports → Nantes format"
      ],
      "complexity": "high",
      "estimated_loc": 450,
      "dependencies": ["T007", "T008", "T009", "T020", "T021"],
      "status": "PENDING",
      "priority": "P0"
    },
    {
      "id": "T024",
      "category": "ao_compliance",
      "subcategory": "lyon",
      "ao_ref": "AO-LYON-CORE-001",
      "title": "Lyon AO Complete Compliance",
      "wsjf_score": 9.4,
      "files_affected": [
        "tests/e2e/ao/lyon-full-compliance.spec.ts"
      ],
      "test_template": "ao_compliance.spec.ts",
      "selectors": [
        "[data-testid=\"lyon-compliance\"]",
        "[data-testid=\"lyon-report\"]"
      ],
      "test_cases": [
        "AO11: Full Lyon AO requirements → All 45 tests passing",
        "AO12: Local integration → TCL transport card → Unified ticketing",
        "AO13: Accessibility compliance → RGAA level AA",
        "AO14: Data privacy → GDPR + French data protection",
        "AO15: Reporting → Monthly usage reports → Lyon format"
      ],
      "complexity": "high",
      "estimated_loc": 450,
      "dependencies": ["T007", "T008", "T009", "T020", "T021"],
      "status": "PENDING",
      "priority": "P0"
    },
    {
      "id": "T025",
      "category": "white_label",
      "subcategory": "tenant",
      "ao_ref": "AO-IDFM-TENANT-001",
      "title": "Multi-tenant Configuration",
      "wsjf_score": 6.3,
      "files_affected": [
        "tests/e2e/white-label/multi-tenant.spec.ts",
        "store/backend/src/services/tenant/config.rs"
      ],
      "test_template": "white_label_tenant.spec.ts",
      "selectors": [
        "[data-testid=\"tenant-selector\"]",
        "[data-testid=\"tenant-config\"]"
      ],
      "test_cases": [
        "W1: Tenant configuration → Branding, colors, logo → Saved",
        "W2: Tenant-specific pricing → Different rates per tenant",
        "W3: Tenant isolation → Data separation → No cross-tenant access",
        "W4: Tenant creation flow → New tenant → Configured automatically",
        "W5: Tenant deactivation → Suspend service → Grace period"
      ],
      "complexity": "high",
      "estimated_loc": 300,
      "dependencies": [],
      "status": "PENDING",
      "priority": "P1"
    },
    {
      "id": "T026",
      "category": "white_label",
      "subcategory": "branding",
      "ao_ref": "AO-IDFM-TENANT-002",
      "title": "Custom Branding and Theming",
      "wsjf_score": 5.5,
      "files_affected": [
        "tests/e2e/white-label/branding.spec.ts",
        "veligo-platform/frontend/src/lib/theming"
      ],
      "test_template": "white_label_branding.spec.ts",
      "selectors": [
        "[data-testid=\"custom-logo\"]",
        "[data-testid=\"custom-colors\"]",
        "[data-testid=\"custom-domain\"]"
      ],
      "test_cases": [
        "W6: Custom logo upload → PNG/SVG → Display on all pages",
        "W7: Custom color scheme → Primary, secondary → Apply globally",
        "W8: Custom domain → CNAME → SSL certificate → Custom URL",
        "W9: Custom favicon → Upload → Browser tab update",
        "W10: Theme preview → Live preview → Apply on confirm"
      ],
      "complexity": "medium",
      "estimated_loc": 200,
      "dependencies": ["T025"],
      "status": "PENDING",
      "priority": "P2"
    },
    {
      "id": "T027",
      "category": "white_label",
      "subcategory": "domains",
      "ao_ref": "AO-IDFM-TENANT-003",
      "title": "Custom Domain Management",
      "wsjf_score": 5.2,
      "files_affected": [
        "tests/e2e/white-label/custom-domains.spec.ts",
        "nginx/sites-available"
      ],
      "test_template": "white_label_domains.spec.ts",
      "selectors": [
        "[data-testid=\"domain-list\"]",
        "[data-testid=\"domain-add\"]",
        "[data-testid=\"domain-verified\"]"
      ],
      "test_cases": [
        "W11: Add custom domain → DNS verification → SSL provision",
        "W12: Domain ownership verification → DNS TXT record → Confirmed",
        "W13: Multiple domains → Redirect → Primary domain selection",
        "W14: Domain removal → DNS cleanup → Certificate revocation",
        "W15: Domain SSL renewal → Auto-renewal → No downtime"
      ],
      "complexity": "medium",
      "estimated_loc": 180,
      "dependencies": ["T025"],
      "status": "PENDING",
      "priority": "P2"
    },
    {
      "id": "T028",
      "category": "modules",
      "subcategory": "notification",
      "ao_ref": "AO-IDFM-NOTIF-001",
      "title": "Email Notification Service",
      "wsjf_score": 5.0,
      "files_affected": [
        "tests/e2e/modules/notification-email.spec.ts",
        "store/backend/src/modules/notification/email.rs"
      ],
      "test_template": "module_notification.spec.ts",
      "selectors": [
        "[data-testid=\"email-template\"]",
        "[data-testid=\"email-sent\"]"
      ],
      "test_cases": [
        "M28: Booking confirmation email → HTML template → Sent to user",
        "M29: Payment receipt email → PDF attachment → Archive copy",
        "M30: Promotion email → Targeting → Opt-out handling",
        "M31: Email delivery status → Bounce handling → Suppression list",
        "M32: Email unsubscribe → One-click → List removal"
      ],
      "complexity": "medium",
      "estimated_loc": 180,
      "dependencies": ["T013"],
      "status": "PENDING",
      "priority": "P2"
    },
    {
      "id": "T029",
      "category": "modules",
      "subcategory": "notification",
      "ao_ref": "AO-IDFM-NOTIF-002",
      "title": "SMS Notification Service",
      "wsjf_score": 4.8,
      "files_affected": [
        "tests/e2e/modules/notification-sms.spec.ts",
        "store/backend/src/modules/notification/sms.rs"
      ],
      "test_template": "module_notification.spec.ts",
      "selectors": [
        "[data-testid=\"sms-template\"]",
        "[data-testid=\"sms-sent\"]"
      ],
      "test_cases": [
        "M33: SMS booking code → 6-digit code → Delivered",
        "M34: SMS ride reminder → 10 min before → Opt-in required",
        "M35: SMS delivery status → Delivered/failed → Webhook update",
        "M36: SMS opt-out → STOP → No further SMS",
        "M37: SMS short code → 361XX format → France compliance"
      ],
      "complexity": "medium",
      "estimated_loc": 160,
      "dependencies": ["T013"],
      "status": "PENDING",
      "priority": "P2"
    },
    {
      "id": "T030",
      "category": "modules",
      "subcategory": "notification",
      "ao_ref": "AO-IDFM-NOTIF-003",
      "title": "Push Notification Service",
      "wsjf_score": 4.5,
      "files_affected": [
        "tests/e2e/modules/notification-push.spec.ts",
        "store/backend/src/modules/notification/push.rs"
      ],
      "test_template": "module_notification.spec.ts",
      "selectors": [
        "[data-testid=\"push-permission\"]",
        "[data-testid=\"push-sent\"]"
      ],
      "test_cases": [
        "M38: Push permission request → Browser prompt → User decision",
        "M39: Push subscription → Service worker → Token saved",
        "M40: Push notification delivery → Background → Click action",
        "M41: Push notification preferences → Categories → Frequency",
        "M42: Push unsubscription → Remove token → No further push"
      ],
      "complexity": "medium",
      "estimated_loc": 180,
      "dependencies": ["T013"],
      "status": "PENDING",
      "priority": "P2"
    },
    {
      "id": "T031",
      "category": "journeys",
      "subcategory": "admin",
      "ao_ref": "AO-IDFM-ADMIN-001",
      "title": "Admin Dashboard Overview",
      "wsjf_score": 6.0,
      "files_affected": [
        "tests/e2e/journeys/admin-dashboard.spec.ts",
        "admin.veligo.app/dashboard"
      ],
      "test_template": "journey_admin.spec.ts",
      "selectors": [
        "[data-testid=\"admin-nav\"]",
        "[data-testid=\"metric-cards\"]",
        "[data-testid=\"charts-container\"]"
      ],
      "test_cases": [
        "J43: Admin dashboard load → Metrics displayed → Charts rendered",
        "J44: Date range filter → Custom period → Data refresh",
        "J45: Export dashboard data → CSV/PDF → Download",
        "J46: Real-time stats update → WebSocket → Auto-refresh",
        "J47: Dashboard customization → Widgets → Layout saved"
      ],
      "complexity": "medium",
      "estimated_loc": 200,
      "dependencies": [],
      "status": "PENDING",
      "priority": "P1"
    },
    {
      "id": "T032",
      "category": "journeys",
      "subcategory": "admin",
      "ao_ref": "AO-IDFM-ADMIN-002",
      "title": "User Management Admin",
      "wsjf_score": 5.8,
      "files_affected": [
        "tests/e2e/journeys/admin-users.spec.ts",
        "admin.veligo.app/users"
      ],
      "test_template": "journey_admin.spec.ts",
      "selectors": [
        "[data-testid=\"users-table\"]",
        "[data-testid=\"user-search\"]",
        "[data-testid=\"user-edit\"]",
        "[data-testid=\"user-suspend\"]"
      ],
      "test_cases": [
        "J48: List all users → Pagination → Search/filter",
        "J49: User details view → Complete profile → Activity history",
        "J50: Edit user details → Name, email → Save changes",
        "J51: Suspend user → Reason → Email notification",
        "J52: Export user list → CSV → Compliance report"
      ],
      "complexity": "medium",
      "estimated_loc": 220,
      "dependencies": ["T031"],
      "status": "PENDING",
      "priority": "P1"
    },
    {
      "id": "T033",
      "category": "journeys",
      "subcategory": "admin",
      "ao_ref": "AO-IDFM-ADMIN-003",
      "title": "Fleet Management Admin",
      "wsjf_score": 5.5,
      "files_affected": [
        "tests/e2e/journeys/admin-fleet.spec.ts",
        "admin.veligo.app/fleet"
      ],
      "test_template": "journey_admin.spec.ts",
      "selectors": [
        "[data-testid=\"fleet-overview\"]",
        "[data-testid=\"bike-list\"]",
        "[data-testid=\"station-list\"]",
        "[data-testid=\"maintenance-alerts\"]"
      ],
      "test_cases": [
        "J53: View fleet overview → Total bikes, availability → Statistics",
        "J54: Bike details → Location, status, battery → History",
        "J55: Add new bike → VIN, type → Register in system",
        "J56: Bike maintenance schedule → Calendar → Technician assignment",
        "J57: Decommission bike → Reason → Asset removal"
      ],
      "complexity": "medium",
      "estimated_loc": 240,
      "dependencies": ["T031"],
      "status": "PENDING",
      "priority": "P1"
    },
    {
      "id": "T034",
      "category": "journeys",
      "subcategory": "admin",
      "ao_ref": "AO-IDFM-ADMIN-004",
      "title": "Revenue and Payments Admin",
      "wsjf_score": 5.2,
      "files_affected": [
        "tests/e2e/journeys/admin-revenue.spec.ts",
        "admin.veligo.app/revenue"
      ],
      "test_template": "journey_admin.spec.ts",
      "selectors": [
        "[data-testid=\"revenue-chart\"]",
        "[data-testid=\"transactions-table\"]",
        "[data-testid=\"refunds-button\"]"
      ],
      "test_cases": [
        "J58: Revenue dashboard → Daily/weekly/monthly → Charts",
        "J59: Transaction search → By user, date, amount → Filter",
        "J60: Process refund → Amount, reason → User notification",
        "J61: Failed payment retry → Notify user → Record attempt",
        "J62: Financial reports → Generate → Export for accounting"
      ],
      "complexity": "medium",
      "estimated_loc": 200,
      "dependencies": ["T031"],
      "status": "PENDING",
      "priority": "P2"
    },
    {
      "id": "T035",
      "category": "journeys",
      "subcategory": "owner",
      "ao_ref": "AO-IDFM-OWNER-001",
      "title": "Station Owner Dashboard",
      "wsjf_score": 5.0,
      "files_affected": [
        "tests/e2e/journeys/owner-dashboard.spec.ts",
        "owner.veligo.app/dashboard"
      ],
      "test_template": "journey_owner.spec.ts",
      "selectors": [
        "[data-testid=\"owner-stations\"]",
        "[data-testid=\"owner-revenue\"]",
        "[data-testid=\"owner-alerts\"]"
      ],
      "test_cases": [
        "J63: Owner dashboard → Station overview → Performance metrics",
        "J64: Station revenue report → Daily breakdown → Export",
        "J65: Maintenance requests → Submit → Track status",
        "J66: Owner settings → Contact info → Payment details",
        "J67: Access logs → Who accessed → Timestamps"
      ],
      "complexity": "medium",
      "estimated_loc": 180,
      "dependencies": ["T031"],
      "status": "PENDING",
      "priority": "P2"
    },
    {
      "id": "T036",
      "category": "security",
      "subcategory": "rbac",
      "ao_ref": "AO-IDFM-SEC-004",
      "title": "RBAC Permission Tests",
      "wsjf_score": 7.0,
      "files_affected": [
        "tests/e2e/security/rbac-permissions.spec.ts",
        "store/backend/src/services/auth/rbac.rs"
      ],
      "test_template": "security_rbac.spec.ts",
      "selectors": [],
      "test_cases": [
        "S16: User role permissions → Admin, Owner, User → Access control",
        "S17: Resource access control → Ownership → Cannot access others",
        "S18: Permission inheritance → Role hierarchy → Effective permissions",
        "S19: Permission change → Role update → Immediate effect",
        "S20: Audit log → Permission changes → Who changed what when"
      ],
      "complexity": "high",
      "estimated_loc": 260,
      "dependencies": ["T005", "T031", "T032"],
      "status": "PENDING",
      "priority": "P0"
    },
    {
      "id": "T037",
      "category": "security",
      "subcategory": "audit",
      "ao_ref": "AO-IDFM-SEC-005",
      "title": "Audit Logging",
      "wsjf_score": 6.5,
      "files_affected": [
        "tests/e2e/security/audit-logging.spec.ts",
        "store/backend/src/services/audit/log.rs"
      ],
      "test_template": "security_audit.spec.ts",
      "selectors": [
        "[data-testid=\"audit-log-view\"]"
      ],
      "test_cases": [
        "S21: Login attempts → Success/failure → Logged",
        "S22: Data access → Personal data → Logged",
        "S23: Permission changes → Role updates → Logged",
        "S24: Export operations → Data exports → Logged",
        "S25: Audit log search → By user, action, date → Filter"
      ],
      "complexity": "medium",
      "estimated_loc": 180,
      "dependencies": ["T036"],
      "status": "PENDING",
      "priority": "P1"
    },
    {
      "id": "T038",
      "category": "rgpd",
      "subcategory": "audit_trail",
      "ao_ref": "AO-IDFM-RGPD-004",
      "title": "RGPD Audit Trail",
      "wsjf_score": 6.2,
      "files_affected": [
        "tests/e2e/rgpd/audit-trail.spec.ts",
        "store/backend/src/services/rgpd/audit.rs"
      ],
      "test_template": "rgpd_audit.spec.ts",
      "selectors": [
        "[data-testid=\"rgpd-audit-view\"]"
      ],
      "test_cases": [
        "R24: Data access logs → Who accessed user data → Timestamps",
        "R25: Consent history → All consent changes → Complete record",
        "R26: Deletion requests → Processing status → Timeline",
        "R27: Third-party sharing → Data transfers → Logged",
        "R28: Audit report generation → PDF → Compliance evidence"
      ],
      "complexity": "medium",
      "estimated_loc": 180,
      "dependencies": ["T007", "T037"],
      "status": "PENDING",
      "priority": "P1"
    },
    {
      "id": "T039",
      "category": "ao_compliance",
      "subcategory": "accessibility",
      "ao_ref": "AO-IDFM-ACCESS-001",
      "title": "RGAA Accessibility Compliance",
      "wsjf_score": 7.5,
      "files_affected": [
        "tests/e2e/ao/accessibility-rgaa.spec.ts"
      ],
      "test_template": "ao_accessibility.spec.ts",
      "selectors": [],
      "test_cases": [
        "AO16: Keyboard navigation → All interactive elements → Accessible",
        "AO17: Screen reader support → ARIA labels → Proper semantics",
        "AO18: Color contrast → 4.5:1 minimum → Text readability",
        "AO19: Focus indicators → Visible → No focus trap",
        "AO20: Form labels → Associated → Error messages announced"
      ],
      "complexity": "high",
      "estimated_loc": 320,
      "dependencies": [],
      "status": "PENDING",
      "priority": "P0"
    },
    {
      "id": "T040",
      "category": "ao_compliance",
      "subcategory": "accessibility",
      "ao_ref": "AO-IDFM-ACCESS-002",
      "title": "WCAG 2.1 AA Compliance",
      "wsjf_score": 7.2,
      "files_affected": [
        "tests/e2e/ao/accessibility-wcag.spec.ts"
      ],
      "test_template": "ao_accessibility.spec.ts",
      "selectors": [],
      "test_cases": [
        "AO21: Alternative text → Images → Descriptive",
        "AO22: Captions → Videos → Synchronized",
        "AO23: Error identification → Clear → Suggestions",
        "AO24: Heading structure → Logical → No skipping",
        "AO25: Language attribute → Set → Screen reader support"
      ],
      "complexity": "medium",
      "estimated_loc": 240,
      "dependencies": ["T039"],
      "status": "PENDING",
      "priority": "P0"
    }
  ]
}
