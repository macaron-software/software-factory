# Task T317: Add onboarding server actions

**Priority**: P1
**Queue**: TDD
**Type**: implementation

## File
veligo-platform/frontend/src/routes/(app)/onboarding/+page.server.ts

## Description
Add actions for submitIdentity (via gRPC), submitPayment, completeOnboarding

## Success Criteria
- [ ] Implementation complete
- [ ] cargo check passes (or npm run build for frontend)
- [ ] Unit/integration tests added
- [ ] No new warnings
- [ ] Works with gRPC calls (frontend) or database queries (backend)

## Ralph Status Block
---RALPH_STATUS---
STATUS: FAILED
COMPLEXITY: medium
WSJF: 10
---END_RALPH_STATUS---

## Last Failure (Wed Jan 14 10:06:14 CET 2026)
```

<bash command="ls -la veligo-platform/"/>
<bash command="ls -la veligo-platform/frontend/"/>
<bash command="ls -la veligo-platform/backend/"/>

=== LLM Response ===
<think>
Let me try exploring the project structure first with simpler commands.
</think>

<bash command="pwd && ls -la"/>
<bash command="ls -la veligo-platform/frontend/src/ 2>/dev/null || echo \"Path not found\""/>

=== LLM Response ===
<think>
The bash commands are failing. Let me try a different approach and look at the current directory structure.
</think>

<bash command="ls -R . | grep -E \"onboarding|grpc|lib\" | head -30"/>
<bash command="cat package.json 2>/dev/null || echo \"No package.json\""/>
```

## Last Failure (Wed Jan 14 10:06:42 CET 2026)
```
<think>
The file doesn't exist yet. Let me explore the existing patterns in the project - specifically how gRPC calls are made and how other server actions are structured.
</think>

```bash
ls -la veligo-platform/frontend/src/lib/
```

=== Action Results ===
bash: OK
total 24
drwxr-xr-x  20 sylvain  staff   640 Jan  7 09:37 .
drwxr-xr-x   9 sylvain  staff   288 Jan  5 10:17 ..
drwx------   3 sylvain  staff    96 Dec 26 13:48 accessibility
drwxr-xr-x  22 sylvain  staff   704 Jan 12 16:54 api
drwxr-xr-x   5 sylvain  staff   160 Dec 26 15:43 auth
drwxr-xr-x   7 sylvain  staff   224 Jan 12 19:11 chaos
drwxr-xr-x  29 sylvain  staff   928 Jan 13 19:33 components
drwx------   3 sylvain  staff    96 Jan  5 12:59 config
drwxr-xr-x   9 sylvain  staff   288 Jan  5 10:5
```

## Last Failure (Wed Jan 14 10:07:11 CET 2026)
```

=== LLM Response ===
<think>
The user is asking me to provide concrete bash or edit actions. Let me try to explore the project structure more systematically.
</think>

<bash command="ls -R veligo-platform/frontend/src/lib/api/ 2>/dev/null"/>
<bash command="ls -R veligo-platform/frontend/src/routes/ 2>/dev/null | head -50"/>
<bash command="cat veligo-platform/frontend/src/lib/api/index.ts 2>/dev/null || echo "INDEX NOT FOUND""/>

=== LLM Response ===
<think>
The user is frustrated because I'm not providing concrete actions. Let me provide concrete bash commands to explore and then concrete file edits/writes.

Let me try simpler commands to understand the structure.
</think>

<bash command="pwd && ls veligo-platform/frontend/src/lib/api/"/>
<bash command="cat veligo-platform/frontend/src/lib/api/index.ts"/>
<bash command="ls veligo-platform/frontend/src/routes/"/>
```
