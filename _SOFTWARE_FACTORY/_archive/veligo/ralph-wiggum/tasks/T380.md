# Task T380: Authentification TCL ID

**Priority**: P0
**WSJF Score**: 9.5
**Queue**: TDD
**Category**: AO_COMPLIANCE
**Original ID**: AO-LYON-001
**Phase**: üéØ PHASE 2: COMPLIANCE AO (Priority P1)
**Section**: 2.3 Lyon - TCL

## Description
Authentification TCL ID

## Test File
`ao/lyon-tcl-auth.spec.ts`

## Estimated Files
4 fichier(s) √† modifier

## Success Criteria
- [ ] Test E2E cr√©√©/modifi√©: `ao/lyon-tcl-auth.spec.ts`
- [ ] Test passe en local
- [ ] Pas de test.skip() sans condition
- [ ] Code review adversarial pass√©
- [ ] Pas de stubs ou TODOs

## Definition of Done (DoD)
- [ ] Feature compl√®tement impl√©ment√©e
- [ ] Tests E2E verts
- [ ] Conformit√© AO v√©rifi√©e (si applicable)
- [ ] Documentation mise √† jour

## Ralph Status Block


## Fractal Decomposition
**Status**: DECOMPOSED
**Sub-tasks**: T502, T502, T502
**Timestamp**: 2026-01-14T13:23:43.187389

This task was too large and has been decomposed into smaller sub-tasks.

---RALPH_STATUS---
STATUS: DECOMPOSED
COMPLEXITY: medium
WSJF: 9.5
CATEGORY: AO_COMPLIANCE
ORIGINAL_ID: AO-LYON-001
---END_RALPH_STATUS---

## Last Failure (Wed Jan 14 13:21:30 CET 2026)
```
    extract::{State, Path, Query},
    http::StatusCode,
    response::IntoResponse,
};
use axum::response::Json as AxumJson;
use sqlx::{PgPool, FromRow};
use serde::{Deserialize, Serialize};
use thiserror::Error;

#[derive(Error, Debug)]
pub enum LyrError {
    #[error("Database error: {0}")]
    DbError(#[from] sqlx::Error),
    #[error("Invalid request: {0}")]
    BadRequest(String),
    #[error("Cross-tenant access forbidden")]
    CrossTenantAccess,
}

#[de
```

## Last Failure (Wed Jan 14 13:22:49 CET 2026)
```
    
    await expect(p
---
bash: OK
/// FranceConnect OAuth configuration
#[derive(Debug, Clone, Default)]
pub struct FranceConnectConfig {
    /// OAuth client ID
    pub client_id: String,
    /// OAuth client secret
    pub client_secret: String,
    /// Authorization endpoint URL
    pub authorization_endpoint: String,
    /// Token endpoint URL
    pub token_endpoint: String,
    /// Redirect URI
    pub redirect_uri: String,
    /// OAuth scopes
    pub scopes: String,
    /// ACR values (authentication context class referen
```

## Last Failure (Wed Jan 14 13:23:22 CET 2026)
```

```bash
find . -maxdepth 2 -type d -name "veligo*"
```

=== Action Results ===
bash: OK
./veligo-templates
./veligo-platform
./veligo-cli
./veligo-store
./mobile/veligo-app


=== LLM Response ===
<think>
I found the veligo-platform directory. Let me explore it to understand the project structure.
</think>

<bash command="ls -la ./veligo-platform/"/></bash>
```

## Last Failure (Wed Jan 14 13:23:37 CET 2026)
```
```

=== Action Results ===
bash: OK
// Trace: 2025-12-26 - Auth API Integration Tests
// Reference: Authentication endpoints (register, login, reset-password, status)
// Purpose: Test auth flows with real database

use axum::http::StatusCode;
use sqlx::PgPool;
use uuid::Uuid;

use super::fixtures::*;
use super::{build_test_app, TestClient};

// ============================================================================
// REGISTRATION TESTS
// ============================================================================

#[sqlx::t
```
