# Task T391: Inscription avec pi√®ce identit√© (IDNum)

**Priority**: P1
**WSJF Score**: 8.8
**Queue**: TDD
**Category**: JOURNEY
**Original ID**: J-E2E-002
**Phase**: üö¥ PHASE 1: JOURNEYS E2E ESSENTIELS (Priority P0)
**Section**: 1.1 Inscription & Onboarding

## Description
Inscription avec pi√®ce identit√© (IDNum)

## Test File
`journeys/102-idnum-verification.spec.ts`

## Estimated Files
4 fichier(s) √† modifier

## Success Criteria
- [ ] Test E2E cr√©√©/modifi√©: `journeys/102-idnum-verification.spec.ts`
- [ ] Test passe en local
- [ ] Pas de test.skip() sans condition
- [ ] Code review adversarial pass√©
- [ ] Pas de stubs ou TODOs

## Definition of Done (DoD)
- [ ] Feature compl√®tement impl√©ment√©e
- [ ] Tests E2E verts
- [ ] Conformit√© AO v√©rifi√©e (si applicable)
- [ ] Documentation mise √† jour

## Ralph Status Block
---RALPH_STATUS---
STATUS: FAILED
COMPLEXITY: medium
WSJF: 8.8
CATEGORY: JOURNEY
ORIGINAL_ID: J-E2E-002
---END_RALPH_STATUS---

## Last Failure (Wed Jan 14 13:23:40 CET 2026)
```
=== Action Results ===
bash: FAIL

---
bash: OK
/**
 * E2E Journey Tests - Authentication Complete
 * TDD Red Phase - Real selectors, real fixtures, real API calls
 *
 * Personas tested:
 * - USER_IDFM: Standard user on IDFM tenant (√éle-de-France)
 * - USER_NANTES: Standard user on Nantes tenant (Naolib)
 * - USER_LYON: Standard user on Lyon tenant (TCL)
 * - ADMIN_AOM: Admin with MFA on IDFM
 * - OWNER: Super admin (platform owner)
 *
 * Journeys covered:
 * 1. Registration with RGPD consent
 * 2. Email/Password login
 * 3. SSO FranceConnect
```

## Last Failure (Wed Jan 14 13:24:33 CET 2026)
```
</think>

<bash>
cd ./tools/ralph-wiggum/tasks/tests/journeys && cat 101-multi-tenant-registration.spec.ts</bash>

=== Action Results ===
bash: OK
import { test, expect } from '@playwright/test';
import { tenants, users } from '../fixtures/test-data';

test.describe('J-E2E-001: Inscription multi-tenant avec validation email', () => {
  test.beforeEach(async ({ page }) => {
    await page.goto('/register');
  });

  test('DEV-001: Inscription utilisateur tenant IDFM', async ({ page }) => {
    const idfmTenant = tenants.find(t => t.slug === 'idfm');
    await page.selectOption('[data-testid="tenant-select"]', idfmTenant.id);
    
    await 
```

## Last Failure (Wed Jan 14 13:25:05 CET 2026)
```
bash: OK
export const tenants = [
  { id: 'tenant-idfm', name: '√éle-de-France Mobilit√©s', slug: 'idfm' },
  { id: 'tenant-nantes', name: 'Nantes M√©tropole', slug: 'nantes' },
  { id: 'tenant-lyon', name: 'TCL Lyon', slug: 'lyon' }
];

export const users = {
  USER_IDFM: {
    id: 'user-idfm-001',
    email: 'marie.dupont@test-idfm.fr',
    password: 'Test2025!Secure',
    firstName: 'Marie',
    lastName: 'Dupont',
    phone: '0612345678',
    tenant: 'idfm',
    role: 'user'
  },
  ADMIN_IDFM: {
    id:
```
