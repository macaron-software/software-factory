# Task D007: Verify Health Endpoints

**Priority**: P1
**Time Estimate**: 0.25h
**WSJF Score**: 7.5
**Queue**: DEPLOY

## Success Criteria
- [ ] /api/health returns 200 with status "healthy"
- [ ] /api/health/detailed shows database status
- [ ] /api/health/detailed shows redis status
- [ ] All tenant subdomains respond

## Actions
1. Check main health endpoint
2. Check detailed health for all dependencies
3. Verify all tenant subdomains
4. Check gRPC health service

## Files to Create/Modify
- [ ] N/A - verification only

## Technical Notes
```bash
# Main health
curl -s https://api.veligo.app/api/health | jq .

# Detailed health
curl -s https://api.veligo.app/api/health/detailed | jq .
# Expected:
# {
#   "status": "healthy",
#   "database": { "status": "healthy", "version": "PostgreSQL 14.x" },
#   "redis": { "status": "healthy", "connected": true }
# }

# All tenants
for tenant in veligo idfm nantes lyon admin; do
    echo -n "$tenant: "
    curl -sf "https://${tenant}.veligo.app" > /dev/null && echo "OK" || echo "FAIL"
done

# gRPC health (via grpcurl)
grpcurl -plaintext api.veligo.app:50051 grpc.health.v1.Health/Check
```

## Ralph Status Block
---RALPH_STATUS---
STATUS: COMPLETE
TASKS_COMPLETED_THIS_LOOP: 0
FILES_MODIFIED: 0
TESTS_STATUS: NOT_RUN
WORK_TYPE: VERIFICATION
EXIT_SIGNAL: false
TDD_PHASE: GREEN
RECOMMENDATION: Verify all health endpoints respond correctly
---END_RALPH_STATUS---
