# Task T1242: Supprimer REST routes de http-server.rs

**Priority**: P2
**Time Estimate**: 3h
**WSJF Score**: 10.0
**Complexity**: complex
**Queue**: TDD

## Description
Le backend a DEUX serveurs:
- `tonic-server.rs` - gRPC (PRIMARY, correct)
- `http-server.rs` - REST (LEGACY, Ã  supprimer)

http-server.rs contient des routes REST qui dupliquent les services gRPC:
- `/api/auth/*` â†’ AuthService gRPC existe
- `/api/stations/*` â†’ StationService gRPC existe
- `/api/subscriptions/*` â†’ SubscriptionService gRPC existe

Seules ces routes REST doivent rester (callbacks externes):
- `/api/auth/franceconnect/callback` - OAuth
- `/api/auth/google/callback` - OAuth
- `/api/auth/microsoft/callback` - OAuth
- `/api/webhooks/stripe` - Webhook
- `/api/webhooks/paynum` - Webhook

## Success Criteria
- [ ] Supprimer routes REST dupliquÃ©es
- [ ] Garder uniquement OAuth callbacks et webhooks
- [ ] cargo build passe
- [ ] Tests E2E passent (utilisent gRPC, pas REST)
- [ ] VÃ©rifier que rien n'appelle les anciennes routes REST

## Actions
1. Analyser http-server.rs pour identifier toutes les routes
2. VÃ©rifier que chaque route a son Ã©quivalent gRPC
3. Supprimer les routes dupliquÃ©es
4. Garder webhooks et OAuth callbacks
5. Mettre Ã  jour les imports et le main
6. Tester compilation et E2E

## Files to Create/Modify
- [ ] veligo-platform/backend/src/bin/http-server.rs (MODIFY)
- [ ] veligo-platform/backend/src/api/auth.rs (peut Ãªtre supprimÃ©)
- [ ] veligo-platform/backend/src/api/subscriptions.rs (peut Ãªtre supprimÃ©)

## Ralph Status Block
---RALPH_STATUS---
STATUS: FAILED
COMPLEXITY: complex
MODEL_TIER: TIER2
WSJF: 10.0
---END_RALPH_STATUS---

## Last Failure (Wed Jan 14 20:46:13 CET 2026)
```
[0;32m[AGENT] Real Agent starting[0m
[0;34m[AGENT] Task: /Users/sylvain/_LAPOSTE/_VELIGO2/tools/ralph-wiggum/tasks/T1242.md[0m
[0;34m[AGENT] Queue: tdd[0m
[0;34m[AGENT] Backend: auto[0m
[0;32m[AGENT] Starting task: T1242[0m
[0;34m[AGENT] Iteration 1/10[0m
[0;31m[AGENT] Local LLM failed: HTTPConnectionPool(host='127.0.0.1', port=8002): Read timed out. (read timeout=300)[0m

============================================================
RESULT: FAILED
============================================================
ERROR: LLM call failed
```

## Last Failure (Wed Jan 14 20:51:10 CET 2026)
```
[0;32m[AGENT] Real Agent starting[0m
[0;34m[AGENT] Task: /Users/sylvain/_LAPOSTE/_VELIGO2/tools/ralph-wiggum/tasks/T1242.md[0m
[0;34m[AGENT] Queue: tdd[0m
[0;34m[AGENT] Backend: auto[0m
[0;32m[AGENT] Starting task: T1242[0m
[0;34m[AGENT] Iteration 1/10[0m

============================================================
RESULT: FAILED
============================================================
ERROR: LLM call failed
```

## Last Failure (Wed Jan 14 20:55:17 CET 2026)
```
[0;32m[AGENT] Real Agent starting[0m
[0;34m[AGENT] Task: /Users/sylvain/_LAPOSTE/_VELIGO2/tools/ralph-wiggum/tasks/T1242.md[0m
[0;34m[AGENT] Queue: tdd[0m
[0;34m[AGENT] Backend: auto[0m
[0;32m[AGENT] Starting task: T1242[0m
[0;34m[AGENT] Iteration 1/10[0m

============================================================
RESULT: FAILED
============================================================
ERROR: LLM call failed
```
