# TDD Task - AO Tenant Branding Consistency

## Anomaly
Tests verify tenant-specific branding for IDFM, Nantes, and Lyon, but branding components may not consistently implement all required selectors.

## Location
- Tests: `tests/journeys/01-registration.spec.ts`, `tests/journeys/07-whitelabel.spec.ts`
- Components: `src/routes/(tenant)/*/`, `src/lib/templates/`

## Steps

### Phase 1: Audit Tenant Branding Components (RED)
```bash
# Check tenant-specific layouts
ls -la src/routes/\(tenant\)/idfm/
ls -la src/routes/\(tenant\)/nantes/
ls -la src/routes/\(tenant\)/lyon/
```

### Phase 2: Create Tenant Branding Component
```bash
# Create tenant branding component
touch src/lib/components/branding/TenantBranding.svelte
```

```svelte
<!-- src/lib/components/branding/TenantBranding.svelte -->
<script lang="ts">
  let { tenant = 'idfm' }: Props = $props();

  const branding = {
    idfm: { name: 'Veligo Location', color: '#4A90E2', logo: '/idfm-logo.svg' },
    nantes: { name: 'Naolib', color: '#00A651', logo: '/nantes-logo.svg' },
    lyon: { name: "Velo'v+", color: '#E30613', logo: '/lyon-logo.svg' }
  };

  const current = branding[tenant as keyof typeof branding] || branding.idfm;
</script>

<div data-testid="tenant-branding" class="tenant-branding">
  <img data-testid="tenant-logo" src={current.logo} alt={current.name} />
  <span data-testid="tenant-name">{current.name}</span>
  <span data-testid="primary-color" class="hidden">{current.color}</span>
</div>
```

### Phase 3: Update Tenant Layouts
```bash
# Update each tenant layout to include branding
# src/routes/(tenant)/idfm/+layout.svelte
# src/routes/(tenant)/nantes/+layout.svelte
# src/routes/(tenant)/lyon/+layout.svelte
```

### Phase 4: Verify Tests Pass
```bash
cd veligo-platform/frontend && npm run test:journey -- --grep "branding\|tenant"
```

## Acceptance Criteria
- [ ] `data-testid="tenant-branding"` exists on all tenant pages
- [ ] `data-testid="tenant-logo"` displays correct logo
- [ ] `data-testid="tenant-name"` displays correct name
- [ ] `data-testid="primary-color"` contains correct color value
- [ ] IDFM tests pass
- [ ] Nantes tests pass
- [ ] Lyon tests pass
