# TDD Task - Booking Confirmation Component

## Anomaly
Tests verify booking confirmation page with selectors (`booking-confirmation`, `booking-success`, `booking-id`, `pickup-qr`, `unlock-code`, `pickup-countdown`) that need implementation.

## Location
- Tests: `tests/journeys/booking.journey.spec.ts`
- Components: `src/routes/(app)/booking/confirmation/*.svelte`

## Steps

### Phase 1: Create Booking Confirmation Route (RED)
```bash
# Create booking confirmation route
mkdir -p src/routes/\(app\)/booking/confirmation
touch src/routes/\(app\)/booking/confirmation/+page.svelte
```

```svelte
<!-- src/routes/(app)/booking/confirmation/+page.svelte -->
<script lang="ts">
  let { booking } = $state({ id: 'BK-2025-001', qrCode: 'QR-1234', unlockCode: '1234' });
</script>

<div data-testid="booking-confirmation" class="confirmation-page">
  <div data-testid="booking-success" class="success-icon">
    Réservation confirmée !
  </div>

  <div data-testid="booking-id" class="booking-id">
    {booking.id}
  </div>

  <div data-testid="pickup-qr" class="qr-code">
    <img src="/qr/{booking.qrCode}.png" alt="QR Code de retrait" />
  </div>

  <div data-testid="unlock-code" class="unlock-code">
    Code de retrait: {booking.unlockCode}
  </div>

  <div data-testid="pickup-time" class="pickup-time">
    Retrait avant: 30 minutes
  </div>

  <div data-testid="pickup-countdown" class="countdown">
    29:45
  </div>

  <div data-testid="pickup-instructions" class="instructions">
    Scanner le QR code à la station pour retirer votre vélo.
  </div>

  <a data-testid="get-directions" href="/directions">Itinéraire vers la station</a>
  <button data-testid="add-to-calendar">Ajouter au calendrier</button>
</div>
```

### Phase 2: Verify Tests Pass
```bash
cd veligo-platform/frontend && npm run test:journey -- --grep "confirmation"
```

## Acceptance Criteria
- [ ] `data-testid="booking-confirmation"` renders
- [ ] `data-testid="booking-success"` shows success message
- [ ] `data-testid="booking-id"` displays booking reference
- [ ] `data-testid="pickup-qr"` shows QR code
- [ ] `data-testid="unlock-code"` shows unlock code
- [ ] `data-testid="pickup-countdown"` shows countdown timer
- [ ] `data-testid="pickup-instructions"` shows instructions
- [ ] All confirmation tests pass
