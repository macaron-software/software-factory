# Task T360: Créer ContractsService gRPC

**Priority**: P1
**WSJF Score**: 7.0
**Queue**: TDD
**Type**: backend
**Generated by**: LRM Brain (RLM)

## Description
Génération contrats régionaux (IDFM, Nantes, Lyon).

## Success Criteria
- [ ] Tests pass
- [ ] gRPC service functional (if backend)
- [ ] UI matches design (if frontend)
- [ ] No regressions

## Ralph Status Block
---RALPH_STATUS---
STATUS: FAILED
COMPLEXITY: medium
MODEL_TIER: TIER2
WSJF: 7.0
---END_RALPH_STATUS---

## Last Failure (Wed Jan 14 10:19:26 CET 2026)
```
station
stations
subscription
tenant
theme
user
workflow

---
bash: OK
veligo-platform/backend/src/domain/tenant/branding_config.rs
veligo-platform/backend/src/domain/tenant/repository.rs
veligo-platform/backend/src/domain/auth/repository.rs
veligo-platform/backend/src/domain/payment/port.rs
veligo-platform/backend/src/domain/payment/payment_port.rs
veligo-platform/backend/src/domain/admin/repository.rs
veligo-platform/backend/src/domain/user/repository.rs
veligo-platform/backend/src/domain/mod.rs
veligo-platform/backend/src/domain/aom_reporting/types.rs
veligo-pla
```

## Last Failure (Wed Jan 14 10:20:00 CET 2026)
```
=== LLM Response ===
<think>
Let me look at the existing gRPC services more carefully to understand the pattern. I see there's a station_grpc_web.rs as well. Let me check both and also look at the mod.rs to see how they're registered.
</think>

<bash>
cat veligo-platform/backend/src/api/mod.rs | head -200</bash>

=== Action Results ===
bash: OK
pub mod admin;
pub mod admin_api; // 2025-12-31: Admin API for E2E tests (TDD Green)
pub mod aom_reporting; // 2025-12-25: AOM KPI Reporting
pub mod auth;
pub mod bike_api; // 2025-12-26: Bike API (mobile app)
pub mod booking_api; // 2025-12-26: Booking API (mobile app)
pub mod booking_api_tdd; // 2025-12-28: TDD Mock endpoints for E2E tests
pub mod booking_grpc_web; // 2026-01-03: gRPC-Web JSON API for E2E tests
pub mod carbon_api; // 2025-12-26: Carbon CO2 Savings Dashboard
pub mod catalog_api
```

## Last Failure (Wed Jan 14 10:22:51 CET 2026)
```
<bash>
cat veligo-platform/backend/src/api/booking_grpc_web.rs</bash>

=== Action Results ===
bash: OK
// Booking gRPC-Web JSON API
// Date: 2026-01-03
// Purpose: Handle gRPC-Web style paths for booking operations with JSON payload
// Routes: /veligo.booking.v1.BookingService/*
//
// This module provides REST endpoints that mimic gRPC-Web behavior for E2E testing.
// The paths match the gRPC service/method format expected by tests.

use crate::infrastructure::auth::JwtService;
use axum::{
    extract::Extension,
    http::{HeaderMap, StatusCode},
    response::IntoResponse,
    routing::post,
  
```
