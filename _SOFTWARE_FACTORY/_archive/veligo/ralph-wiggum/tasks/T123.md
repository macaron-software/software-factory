# Task T123: Retry failed task: Add missing data-testid: +page.svelte

**Priority**: P0
**Queue**: TDD
**AO_REF**: AO-IDFM-AUTH-3.1.3

## Description
Retry failed task: Add missing data-testid: +page.svelte

## File
veligo-platform/frontend/src/routes/login/+page.svelte

## Success Criteria
- [ ] Issue resolved
- [ ] Tests pass
- [ ] No regressions

## Ralph Status Block
---RALPH_STATUS---
STATUS: COMPLETED
COMPLEXITY: medium
WSJF: 10
---END_RALPH_STATUS---

## Last Failure (Tue Jan 13 18:49:49 CET 2026)
```

<bash>
sed -n '430,499p' veligo-platform/frontend/src/routes/login/+page.svelte</bash>

=== Action Results ===
bash: OK
    
    {:else if authState === 'reset'}
      <form on:submit={handleSubmit} class="space-y-4">
        <h2 class="text-2xl font-bold text-center mb-6">Reset Password</h2>
        <div class="form-group">
          <label class="label" for="reset-email">Email</label>
          <input
            id="reset-email"
            type="email"
            data-testid="reset-email"
            class="input"
            placeholder="Enter your email"
            required
            bind:value={(form a
```

## Last Failure (Tue Jan 13 18:50:29 CET 2026)
```
```bash
cd veligo-platform/frontend && npm run test 2>&1 | head -50
```

=== Action Results ===
bash: OK

> veligo-frontend@0.0.1 test
> playwright test

ReferenceError: request is not defined

   at api/auth/resend-verification.spec.ts:1

> 1 | const loginResponse = await request.post('/api/auth/login', { data: {...users.USER_IDFM} });
    |                       ^
  2 | expect(loginResponse.ok()).toBe(true);
  3 | const token = (await loginResponse.json()).token; // or whatever the field is
  4 |
    at /Users/sylvain/_LAPOSTE/_VELIGO2/veligo-platform/frontend/tests/api/auth/resend-verification.s
```

## Last Failure (Tue Jan 13 18:51:01 CET 2026)
```
sed -n '350,499p' veligo-platform/frontend/src/routes/login/+page.svelte</bash>

=== Action Results ===
bash: OK
          class="submit-btn w-full"
        >
          Register
        </button>
      </form>
    
    {:else if authState === 'signup'}
      <form on:submit={handleSubmit} class="space-y-4">
        <h2 class="text-2xl font-bold text-center mb-6">Signup with Plan</h2>
        <div class="form-group">
          <label class="label" for="signup-name">Full Name</label>
          <input
            id="signup-name"
            type="text"
            data-testid="signup-name"
            class=
```

## Last Failure (Tue Jan 13 18:51:32 CET 2026)
```
<bash>
sed -n '450,499p' veligo-platform/frontend/src/routes/login/+page.svelte</bash>

=== Action Results ===
bash: OK
        >
          Request Reset
        </button>
      </form>
    
    {:else if authState === 'tokenReset'}
      <form on:submit={handleSubmit} class="space-y-4">
        <h2 class="text-2xl font-bold text-center mb-6">Reset Password</h2>
        <div class="form-group">
          <label class="label" for="reset-token-password">New Password</label>
          <input
            id="reset-token-password"
            type="password"
            data-testid="reset-token-password"
            c
```

## Last Failure (Tue Jan 13 18:52:05 CET 2026)
```
<bash>
sed -n '400,499p' veligo-platform/frontend/src/routes/login/+page.svelte</bash>

=== Action Results ===
bash: OK
                type="radio"
                name="plan"
                value="free"
                class="form-radio"
                checked={(form as SignupForm).plan === 'free'}
                on:click={() => (form as SignupForm).plan = 'free'}
              />
              <span class="ml-2">Free</span>
            </label>
            <label class="flex items-center">
              <input
                type="radio"
                name="plan"
                value="premium"
         
```

## Last Failure (Tue Jan 13 18:52:41 CET 2026)
```
sed -n '350,450p' veligo-platform/frontend/src/routes/login/+page.svelte</bash>

=== Action Results ===
bash: OK
          class="submit-btn w-full"
        >
          Register
        </button>
      </form>
    
    {:else if authState === 'signup'}
      <form on:submit={handleSubmit} class="space-y-4">
        <h2 class="text-2xl font-bold text-center mb-6">Signup with Plan</h2>
        <div class="form-group">
          <label class="label" for="signup-name">Full Name</label>
          <input
            id="signup-name"
            type="text"
            data-testid="signup-name"
            class=
```
