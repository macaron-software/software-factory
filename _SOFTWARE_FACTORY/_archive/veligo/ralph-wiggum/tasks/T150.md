# TDD Task - TCL Card Integration Component

## Anomaly
Tests expect TCL card integration selectors (`tcl-pass-number`, `tcl-card`, `tcl-balance`, `tcl-validation`, `tcl-link`) that don't exist in frontend components.

## Location
- Tests: `tests/journeys/17-multimodal-integration.spec.ts`, `tests/journeys/auth.journey.spec.ts`
- Missing component: Lyon TCL card integration UI

## Steps

### Phase 1: Create TCL Card Integration Component (RED)
```bash
# Create component file
touch src/lib/components/tcl/TclCardIntegration.svelte
```

### Phase 2: Implement TCL Card Selectors
```svelte
<!-- src/lib/components/tcl/TclCardIntegration.svelte -->
<script lang="ts">
  let { cardNumber = '', balance = 0, linked = false }: Props = $props();
</script>

<div data-testid="tcl-card" class="tcl-card-section">
  <span data-testid="tcl-balance">{balance} â‚¬</span>
  <input data-testid="tcl-pass-number" type="text" />
  <div data-testid="tcl-validation" class="validation-status"></div>
  <button data-testid="tcl-link-modal">Lier ma carte</button>
</div>
```

### Phase 3: Add Component to Lyon Dashboard
```bash
# Find Lyon dashboard route
ls src/routes/\(tenant\)/lyon/
```

### Phase 4: Verify Tests Pass
```bash
cd veligo-platform/frontend && npm run test:journey -- --grep "TCL"
```

## Acceptance Criteria
- [ ] `data-testid="tcl-card"` renders on Lyon tenant
- [ ] `data-testid="tcl-pass-number"` input exists
- [ ] `data-testid="tcl-balance"` displays balance
- [ ] `data-testid="tcl-link-modal"` opens linking flow
- [ ] All TCL tests pass without `.skip()`
