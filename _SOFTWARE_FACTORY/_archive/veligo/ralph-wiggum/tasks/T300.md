# Task T300: Implement complete /booking page

**Priority**: P0
**Queue**: TDD
**Type**: implementation

## File
veligo-platform/frontend/src/routes/(app)/booking/+page.svelte

## Description
Implement full booking flow: select bike/station, choose duration, confirm booking. Replace skeleton with real gRPC calls to bookingService

## Success Criteria
- [ ] Implementation complete
- [ ] cargo check passes (or npm run build for frontend)
- [ ] Unit/integration tests added
- [ ] No new warnings
- [ ] Works with gRPC calls (frontend) or database queries (backend)

## Ralph Status Block
---RALPH_STATUS---
STATUS: FAILED
COMPLEXITY: high
WSJF: 12
---END_RALPH_STATUS---

## Last Failure (Wed Jan 14 10:00:44 CET 2026)
```

---
bash: OK
Directory not found

---
edit: FAIL
Edit failed
---
write: OK
File written

=== LLM Response ===
<think>
The bash command is having issues. Let me try a different approach. I'll write the file directly.
</think>

<invoke><read>
<path>/workspace/veligo-platform/frontend/src/routes/(app)/booking/+page.svelte</path>
</read></invoke>
```

## Last Failure (Wed Jan 14 10:01:27 CET 2026)
```
drwxr-xr-x   3 sylvain  staff    96 Jan  5 11:40 bike
drwxr-xr-x   3 sylvain  staff    96 Jan  5 11:40 confirm
drwxr-xr-x   3 sylvain  staff    96 Jan  5 11:40 instructions
drwxr-xr-x   3 sylvain  staf

=== LLM Response ===
<think>
Now I can see the structure. Let me read the +page.svelte file and explore the related files to understand the booking flow.
</think>

Now let me read the key files to understand the current implementation:
<invoke><read>
<path>/Users/sylvain/_LAPOSTE/_VELIGO2/veligo-platform/frontend/src/routes/(app)/booking/+page.svelte</path>
</read></invoke>
<invoke><read>
<path>/Users/sylvain/_LAPOSTE/_VELIGO2/veligo-platform/frontend/src/routes/(app)/booking/+layout.svelte</path>
</read></invoke>
<invoke><read>
<path>/Users/sylvain/_LAPOSTE/_VELIGO2/veligo-platform/frontend/src/lib/grpc/booking</path>
</read></invoke>
```

## Last Failure (Wed Jan 14 10:01:57 CET 2026)
```
<script lang="ts">
  import { goto } from '$app/navigation';
  import { page } from '$app/stores';
  import { onMount } from 'svelte';
  import {
    getBikesAtStation,
    getStation,
    getBikeTypeLabel,
    getBikeTypeIcon,
    createBooking,
    type Bike,
    type Station
  } from '$lib/api/bookings';

  // Get stationId from URL
  let stationId = $derived($page.url.searchParams.get('stationId') || '');
  let previousStationId = $state('');

  // State
  let station: Station | null = $stat
```
