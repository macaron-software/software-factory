# Task T407: Module rgaa-accessibility

**Priority**: P1
**WSJF Score**: 8.5
**Queue**: TDD
**Category**: MODULE
**Original ID**: MOD-RGPD-005
**Phase**: üì¶ PHASE 4: MODULES BACKEND (Priority P2)
**Section**: 4.6 RGPD & Compliance Modules

## Description
Module rgaa-accessibility

## Test File
`modules/rgaa-accessibility.spec.ts`

## Estimated Files
4 fichier(s) √† modifier

## Success Criteria
- [ ] Test E2E cr√©√©/modifi√©: `modules/rgaa-accessibility.spec.ts`
- [ ] Test passe en local
- [ ] Pas de test.skip() sans condition
- [ ] Code review adversarial pass√©
- [ ] Pas de stubs ou TODOs

## Definition of Done (DoD)
- [ ] Feature compl√®tement impl√©ment√©e
- [ ] Tests E2E verts
- [ ] Conformit√© AO v√©rifi√©e (si applicable)
- [ ] Documentation mise √† jour

## Ralph Status Block


## Fractal Decomposition
**Status**: DECOMPOSED
**Sub-tasks**: T524, T524, T524
**Timestamp**: 2026-01-14T13:39:17.614444

This task was too large and has been decomposed into smaller sub-tasks.

---RALPH_STATUS---
STATUS: DECOMPOSED
COMPLEXITY: medium
WSJF: 8.5
CATEGORY: MODULE
ORIGINAL_ID: MOD-RGPD-005
---END_RALPH_STATUS---

## Last Failure (Wed Jan 14 13:32:40 CET 2026)
```
./tools/ralph-wiggum/tasks/tests/ao/rgaa-keyboard.spec.ts
./tools/ralph-wiggum/tasks/tests/journeys/101

=== LLM Response ===
<think>
Let me look at the existing spec files to understand the pattern, particularly the module-related tests.
</think>

<bash>
cd /Users/sylvain/_LAPOSTE/_VELIGO2 && ls -la tenant/frontend-user/tests/</bash>

=== Action Results ===
bash: OK
total 168
drwxr-xr-x   6 sylvain  staff    192 Dec 26 09:42 .
drwxr-xr-x  15 sylvain  staff    480 Jan 13 16:10 ..
-rw-------   1 sylvain  staff  24770 Jan 12 23:34 chaos-resilience.spec.ts
-rw-------   1 sylvain  staff  23813 Dec 26 09:41 functional-modules.spec.ts
-rw-------   1 sylvain  staff  15689 Dec 26 08:47 module-health.spec.ts
-rw-------   1 sylvain  staff  16335 Dec 26 09:42 module-injection.spec.ts
```

## Last Failure (Wed Jan 14 13:34:19 CET 2026)
```
use serde::{Deserialize, Serialize};
use sqlx::PgPool;

#[derive(Debug, Serialize, Deserialize)]
pub struct ModuleOption {
    pub name: String,
    pub enabled: bool,
    pub default_enabled: bool,
    pub reason: Option<String>,
}

#[derive(Debug, Serialize, Deserialize)]
pub struct AoReference {
    pub ao: String,
    pub reference: String,
}

#[derive(Debug, Serialize, Deserialize)]
pub struct Module {
    pub id: i3
```

## Last Failure (Wed Jan 14 13:37:10 CET 2026)
```
<bash>
cd /Users/sylvain/_LAPOSTE/_VELIGO2 && ls -la tenant/frontend-user/tests/ | grep -i rgaa</bash>
<bash>
cd /Users/sylvain/_LAPOSTE/_VELIGO2 && ls -la tenant/frontend-user/tests/ 2>/dev/null</bash>

=== Action Results ===
bash: FAIL

---
bash: FAIL

---
bash: OK
total 168
drwxr-xr-x   6 sylvain  staff    192 Dec 26 09:42 .
drwxr-xr-x  15 sylvain  staff    480 Jan 13 16:10 ..
-rw-------   1 sylvain  staff  24770 Jan 12 23:34 chaos-resilience.spec.ts
-rw-------   1 sylvain  staff  23813 Dec 26 09:41 functional-modules.spec.ts
-rw-------   1 sylvain  staff  15689 Dec 26 08:47 module-health.spec.ts
-rw-------   1 sylvain  staff  16335 Dec 26 09:42 module-injection.spec.ts
```

## Last Failure (Wed Jan 14 13:39:10 CET 2026)
```
<bash>
cd /Users/sylvain/_LAPOSTE/_VELIGO2 && cat tenant/frontend-user/tests/module-injection.spec.ts</bash>

=== Action Results ===
bash: OK
/**
 * Module Injection Tests
 * Tests for verifying that modules are correctly injected into hooks
 * Based on CompleteHookRegistry and ModuleLoaderService
 */
import { test, expect, type Page } from '@playwright/test';

// Test configuration
const BASE_URL = process.env.TEST_BASE_URL || 'http://idfm.veligo.local:8040';
const API_BASE = `${BASE_URL}/api`;

// Helper: Wait for modules to load
async function waitForModulesLoaded(page: Page): Promise<void> {
  await page.waitForFunction(() => {
  
```
