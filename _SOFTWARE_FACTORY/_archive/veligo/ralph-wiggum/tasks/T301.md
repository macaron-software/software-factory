# Task T301: Add booking page server actions

**Priority**: P0
**Queue**: TDD
**Type**: implementation

## File
veligo-platform/frontend/src/routes/(app)/booking/+page.server.ts

## Description
Add load function to fetch available bikes/stations, add actions for createBooking gRPC call

## Success Criteria
- [ ] Implementation complete
- [ ] cargo check passes (or npm run build for frontend)
- [ ] Unit/integration tests added
- [ ] No new warnings
- [ ] Works with gRPC calls (frontend) or database queries (backend)

## Ralph Status Block
---RALPH_STATUS---
STATUS: FAILED
COMPLEXITY: high
WSJF: 12
---END_RALPH_STATUS---

## Last Failure (Wed Jan 14 10:00:35 CET 2026)
```
=== Action Results ===
bash: OK
// API Client for Bike Booking Flow
// Migrated from REST to gRPC-Web

import { bookingClient, stationClient, bikeClient, grpcCall, timestampToDate } from '$lib/grpc-client';
import {
  type Booking as GrpcBooking,
  BookingStatus,
  BikeType as GrpcBikeType
} from '$lib/grpc/booking/v1/booking';
import {
  type Station as GrpcStation,
  StationStatus,
  BikeType as StationBikeType
} from '$lib/grpc/station/v1/station';

// ============ Local Types (UI-friendly) ============

export interface St
```

## Last Failure (Wed Jan 14 10:01:16 CET 2026)
```
</think>

<bash command="pwd && ls -la"/>
<bash command="find . -maxdepth 4 -name "*.ts" 2>/dev/null | head -30"/>

=== LLM Response ===
<think>
I'm having trouble finding the files. Let me try a simpler approach to find the structure.
</think>

<bash command="ls -R . 2>/dev/null | head -100"/>
<bash command="find . -name "svelte" -type f 2>/dev/null | head -5"/>

=== LLM Response ===
<think>
The user is asking me to explore the codebase and provide concrete actions. Let me try different approaches to find the relevant files.
</think>

<bash command="find . -type f -name "*.ts" -o -name "*.js" 2>/dev/null | grep -i booking | head -10"/>
<bash command="find . -type f \( -name "*.ts" -o -name "*.js" \) 2>/dev/null | head -50"/>
```

## Last Failure (Wed Jan 14 10:02:00 CET 2026)
```
bash: OK
<script lang="ts">
  import { onMount } from 'svelte';
  // Your complete implementation here
</script>

<!-- Complete template with Tailwind CSS -->

=== LLM Response ===
<think>
The +page.svelte exists but is minimal. Let me check if there's a +page.server.ts file and look at the grpc-client to understand the gRPC structure.
</think>

```bash
cat veligo-platform/frontend/src/routes/\(app\)/booking/+page.server.ts 2>/dev/null || echo "File does not exist"
```

=== Action Results ===
bash: OK
File does not exist
```
