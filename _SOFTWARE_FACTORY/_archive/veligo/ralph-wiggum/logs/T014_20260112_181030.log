[96m[1m| [0m[90m Read     [0mveligo-platform/frontend/src/lib/components/maps/BikeMap.svelte
[96m[1m| [0m[90m Read     [0mveligo-platform/frontend/src/lib/components/tracking/BikeMap.svelte
[96m[1m| [0m[90m Read     [0mveligo-platform/frontend/src/lib/components/maps/BikeMapGeneric.svelte
[94m[1m| [0m[90m Glob     [0m{"pattern":"**/BikeMap*.spec.ts"}
Je vois la situation. Les deux fichiers sont des wrappers autour de `BikeMapGeneric.svelte` qui partagent du code duplicata. Cherchons les tests existants et les usages:
[94m[1m| [0m[90m Glob     [0m{"pattern":"**/*.spec.ts"}
[94m[1m| [0m[90m Grep     [0mfrom.*tracking/BikeMap|from.*maps/BikeMap
[94m[1m| [0m[90m Grep     [0mcomponents/maps/BikeMap|components/tracking/BikeMap
Analysons les duplications. Les deux wrappers partagent:
1. Fonctions `getStatusColor` / `getStatusLabel` (dupliqu√©es)
2. Styles dark mode (dupliqu√©s)
3. Loading/Error overlays (similaires)

La strat√©gie: cr√©er un composant `BikeMapUI.svelte` avec le code partag√©.
[92m[1m| [0m[90m Write    [0mveligo-platform/frontend/src/lib/components/maps/BikeMapUI.svelte
Maintenant, modifions `maps/BikeMap.svelte` pour utiliser le nouveau composant:
[92m[1m| [0m[90m Edit     [0mveligo-platform/frontend/src/lib/components/maps/BikeMap.svelte
[92m[1m| [0m[90m Edit     [0mveligo-platform/frontend/src/lib/components/maps/BikeMap.svelte
[92m[1m| [0m[90m Edit     [0mveligo-platform/frontend/src/lib/components/maps/BikeMap.svelte
[92m[1m| [0m[90m Edit     [0mveligo-platform/frontend/src/lib/components/maps/BikeMap.svelte
Maintenant, modifions `tracking/BikeMap.svelte` pour utiliser le composant partag√©:
[92m[1m| [0m[90m Edit     [0mveligo-platform/frontend/src/lib/components/tracking/BikeMap.svelte
Supprimons les fonctions dupliqu√©es dans `tracking/BikeMap.svelte`:
[96m[1m| [0m[90m Read     [0mveligo-platform/frontend/src/lib/components/tracking/BikeMap.svelte
[92m[1m| [0m[90m Edit     [0mveligo-platform/frontend/src/lib/components/tracking/BikeMap.svelte
Rempla√ßons les overlays par le composant BikeMapUI dans `tracking/BikeMap.svelte`:
[92m[1m| [0m[90m Edit     [0mveligo-platform/frontend/src/lib/components/tracking/BikeMap.svelte
V√©rifions le nb de lignes actuel et supprimons les styles dupliqu√©s:
[91m[1m| [0m[90m Bash     [0mCount lines in BikeMap files

     332 /Users/sylvain/_LAPOSTE/_VELIGO2/veligo-platform/frontend/src/lib/components/maps/BikeMap.svelte
     702 /Users/sylvain/_LAPOSTE/_VELIGO2/veligo-platform/frontend/src/lib/components/tracking/BikeMap.svelte
     124 /Users/sylvain/_LAPOSTE/_VELIGO2/veligo-platform/frontend/src/lib/components/maps/BikeMapUI.svelte
    1158 total

Supprimons les styles dark mode duplicu√©s de `maps/BikeMap.svelte`:
[96m[1m| [0m[90m Read     [0mveligo-platform/frontend/src/lib/components/maps/BikeMap.svelte
[92m[1m| [0m[90m Edit     [0mveligo-platform/frontend/src/lib/components/tracking/BikeMap.svelte
[96m[1m| [0m[90m Read     [0mveligo-platform/frontend/src/lib/components/tracking/BikeMap.svelte
[92m[1m| [0m[90m Edit     [0mveligo-platform/frontend/src/lib/components/tracking/BikeMap.svelte
V√©rifions les lignes actuelles et l'√©conomie r√©alis√©e:
[91m[1m| [0m[90m Bash     [0mCount all BikeMap related files

     332 /Users/sylvain/_LAPOSTE/_VELIGO2/veligo-platform/frontend/src/lib/components/maps/BikeMap.svelte
     745 /Users/sylvain/_LAPOSTE/_VELIGO2/veligo-platform/frontend/src/lib/components/tracking/BikeMap.svelte
     124 /Users/sylvain/_LAPOSTE/_VELIGO2/veligo-platform/frontend/src/lib/components/maps/BikeMapUI.svelte
     884 /Users/sylvain/_LAPOSTE/_VELIGO2/veligo-platform/frontend/src/lib/components/maps/BikeMapGeneric.svelte
    2085 total

Ex√©cutons les tests pour v√©rifier que les modifications fonctionnent:
[91m[1m| [0m[90m Bash     [0mBuild frontend to check for errors


> veligo-frontend@0.0.1 build
> vite build

error during build:
Error: The "/(admin)/dashboard" and "/(app)/dashboard" routes conflict with each other
    at prevent_conflicts (file:///Users/sylvain/_LAPOSTE/_VELIGO2/veligo-platform/frontend/node_modules/@sveltejs/kit/src/core/sync/create_manifest_data/index.js:569:11)
    at create_routes_and_nodes (file:///Users/sylvain/_LAPOSTE/_VELIGO2/veligo-platform/frontend/node_modules/@sveltejs/kit/src/core/sync/create_manifest_data/index.js:385:2)
    at create_manifest_data (file:///Users/sylvain/_LAPOSTE/_VELIGO2/veligo-platform/frontend/node_modules/@sveltejs/kit/src/core/sync/create_manifest_data/index.js:29:28)
    at create (file:///Users/sylvain/_LAPOSTE/_VELIGO2/veligo-platform/frontend/node_modules/@sveltejs/kit/src/core/sync/sync.js:26:24)
    at Module.all (file:///Users/sylvain/_LAPOSTE/_VELIGO2/veligo-platform/frontend/node_modules/@sveltejs/kit/src/core/sync/sync.js:58:9)
    at config (file:///Users/sylvain/_LAPOSTE/_VELIGO2/veligo-platform/frontend/node_modules/@sveltejs/kit/src/exports/vite/index.js:372:27)
    at runConfigHook (file:///Users/sylvain/_LAPOSTE/_VELIGO2/veligo-platform/frontend/node_modules/vite/dist/node/chunks/dep-D4NMHUTW.js:49479:23)
    at async resolveConfig (file:///Users/sylvain/_LAPOSTE/_VELIGO2/veligo-platform/frontend/node_modules/vite/dist/node/chunks/dep-D4NMHUTW.js:48785:12)
    at async createBuilder (file:///Users/sylvain/_LAPOSTE/_VELIGO2/veligo-platform/frontend/node_modules/vite/dist/node/chunks/dep-D4NMHUTW.js:46736:18)
    at async CAC.<anonymous> (file:///Users/sylvain/_LAPOSTE/_VELIGO2/veligo-platform/frontend/node_modules/vite/dist/node/cli.js:862:23)

L'erreur de build est pr√©existante (conflict de routes dashboard). V√©rifions les tests frontend:
[91m[1m| [0m[90m Bash     [0mRun type check

npm error Missing script: "type-check"
npm error
npm error To see a list of scripts, run:
npm error   npm run
npm error A complete log of this run can be found in: /Users/sylvain/.npm/_logs/2026-01-12T17_10_29_096Z-debug-0.log
