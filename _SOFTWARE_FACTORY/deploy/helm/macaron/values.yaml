# Default values for macaron-platform
replicaCount: 1

image:
  repository: ghcr.io/macaron-software/platform
  tag: "1.1.0"
  pullPolicy: IfNotPresent

service:
  type: ClusterIP
  port: 80
  targetPort: 8090

ingress:
  enabled: false
  className: nginx
  annotations: {}
  hosts:
    - host: macaron.local
      paths:
        - path: /
          pathType: Prefix
  tls: []

resources:
  limits:
    cpu: "2"
    memory: 2Gi
  requests:
    cpu: 500m
    memory: 512Mi

env:
  PLATFORM_LLM_PROVIDER: demo
  LOG_LEVEL: warning
  API_RATE_LIMIT: "120"

# Mount API keys from existing secret
envFromSecret: ""
# Example: create secret first, then set envFromSecret: macaron-secrets
# kubectl create secret generic macaron-secrets \
#   --from-literal=AZURE_OPENAI_API_KEY=sk-... \
#   --from-literal=GITHUB_WEBHOOK_SECRET=whsec_...

persistence:
  enabled: true
  storageClass: ""
  size: 5Gi
  mountPath: /app/data

nodeSelector: {}
tolerations: []
affinity: {}

healthcheck:
  path: /api/health
  initialDelaySeconds: 15
  periodSeconds: 30
