{% extends "base.html" %}

{% block content %}
<div class="tab-toolbar">
    {% with page_title="patterns" %}{% include "partials/view_switcher.html" %}{% endwith %}
    <a href="/patterns/new" class="btn btn-primary btn-sm">
        <svg class="icon icon-sm"><use href="#icon-plus"/></svg> New
    </a>
</div>
<div class="item-grid" data-view-grid data-view="card">
    {% for pattern in patterns %}
    <a href="/patterns/{{ pattern.id }}/edit" class="item-card" data-id="{{ pattern.id }}">
        <div class="item-icon">
            <svg class="icon icon-md" style="color:var(--accent)"><use href="#icon-{{ pattern.icon }}"/></svg>
        </div>
        <div class="item-main">
            <div class="item-title">{{ pattern.name }}</div>
            <div class="item-subtitle">{{ pattern.type }}</div>
            <div class="item-detail">
                <p class="item-desc">{{ pattern.description }}</p>
                <div class="item-tags">
                    <span class="item-tag">{{ pattern.agents | length }} agents</span>
                    <span class="item-tag">{{ pattern.edges | length }} edges</span>
                </div>
            </div>
        </div>
        <div class="item-meta">
            {% if pattern.is_builtin %}
            <span class="item-badge muted">{{ _("built_in") }}</span>
            {% endif %}
        </div>
    </a>
    {% endfor %}
    {% if not patterns %}
    <div class="empty-state">
        <p>{{ _("no_patterns_yet") }}</p>
        <a href="/patterns/new" class="btn btn-primary">{{ _("create_pattern") }}</a>
    </div>
    {% endif %}
</div>
{% endblock %}
