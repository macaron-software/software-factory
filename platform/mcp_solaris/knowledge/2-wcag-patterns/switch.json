{
  "_meta": {
    "pattern": "switch",
    "wcag_source": "https://www.w3.org/WAI/ARIA/apg/patterns/switch/",
    "version": "1.0.0",
    "updated": "2026-01-06"
  },

  "applies_to": ["switch", "toggle", "toggle-switch", "interrupteur"],

  "structure": {
    "switch": {
      "element": "button",
      "aria": {
        "role": "switch",
        "aria-checked": { "type": "boolean", "required": true },
        "aria-labelledby": { "type": "idref", "points_to": "label" }
      },
      "attributes": { "type": "button" }
    },
    "track": {
      "element": "span",
      "aria": { "aria-hidden": "true" },
      "class_pattern": "__track"
    },
    "thumb": {
      "element": "span",
      "aria": { "aria-hidden": "true" },
      "class_pattern": "__thumb"
    },
    "label": {
      "element": "label",
      "aria": { "id": "required" },
      "required": true
    },
    "status_text": {
      "element": "span",
      "aria": { "aria-hidden": "true" },
      "class_pattern": "__status",
      "optional": true,
      "values": { "on": "Activé", "off": "Désactivé" }
    }
  },

  "states": {
    "off": {
      "aria-checked": "false",
      "data_attr": "data-state=off"
    },
    "on": {
      "aria-checked": "true",
      "data_attr": "data-state=on"
    },
    "disabled": {
      "aria-disabled": "true",
      "data_attr": "data-state=disabled"
    }
  },

  "keyboard": {
    "Enter": { "action": "toggle" },
    "Space": { "action": "toggle" }
  },

  "focus_management": {
    "focusable": true,
    "focus_visible": true
  },

  "animation": {
    "thumb": {
      "property": "transform",
      "duration": "200ms",
      "easing": "ease-out"
    },
    "track": {
      "property": "background-color",
      "duration": "200ms"
    }
  },

  "css_selectors": {
    "on": "[aria-checked='true']",
    "off": "[aria-checked='false']",
    "disabled": "[aria-disabled='true']",
    "focus": ":focus-visible"
  }
}
