id: mobile-android-epic
name: Epic Android App (Kotlin/Compose)
description: 'Full Epic workflow for native Android app: Architecture → Networking → Features → Tests → Integration. Build
  + emulator tests via android-builder container.'
icon: smartphone
is_builtin: true
phases:
- id: android-archi
  pattern_id: aggregator
  name: Architecture & UX
  description: Mobile architect + UX define app structure, navigation, API contract
  gate: always
  config:
    agents:
    - mobile_archi
    - mobile_ux
    - mobile_android_lead
- id: android-network
  pattern_id: hierarchical
  name: Networking Layer
  description: 'Lead Android delegates: ApiClient, SseClient, DTOs, AuthManager to network dev'
  gate: always
  config:
    agents:
    - mobile_android_lead
    - mobile_android_dev_net
    - mobile_android_qa
- id: android-features
  pattern_id: hierarchical
  name: Features Sprint
  description: 'Lead delegates Compose screens: Dashboard, Missions, Agents, Chat, Ideation'
  gate: always
  config:
    agents:
    - mobile_android_lead
    - mobile_android_dev_ui
    - mobile_android_dev_net
- id: android-tests
  pattern_id: loop
  name: Testing & QA
  description: QA writes JUnit + Compose tests, runs android_build + android_test + android_emulator_test, coverage > 80%
  gate: always
  config:
    agents:
    - mobile_android_qa
    - mobile_android_lead
    max_iterations: 3
- id: android-integration
  pattern_id: sequential
  name: Integration & Polish
  description: 'Final: navigation flows, Material 3 theming, error states, app shell. Run android_lint.'
  gate: always
  config:
    agents:
    - mobile_android_lead
    - mobile_android_dev_ui
    - mobile_android_qa
config:
  type: epic
  stack: kotlin-compose
  graph:
    nodes:
    - id: n1
      agent_id: mobile_archi
      x: 300
      y: 20
      label: Archi
      phase: android-archi
    - id: n2
      agent_id: mobile_ux
      x: 500
      y: 20
      label: UX
      phase: android-archi
    - id: n3
      agent_id: mobile_android_lead
      x: 400
      y: 130
      label: Lead Android
      phase: android-network
    - id: n4
      agent_id: mobile_android_dev_net
      x: 250
      y: 240
      label: Dev Network
      phase: android-network
    - id: n5
      agent_id: mobile_android_dev_ui
      x: 550
      y: 240
      label: Dev UI
      phase: android-features
    - id: n6
      agent_id: mobile_android_qa
      x: 400
      y: 350
      label: QA Android
      phase: android-tests
    edges:
    - from: n1
      to: n3
      label: architecture
      color: '#58a6ff'
    - from: n2
      to: n3
      label: ux specs
      color: '#ec4899'
    - from: n3
      to: n4
      label: networking
      color: '#3fb950'
    - from: n3
      to: n5
      label: features
      color: '#3fb950'
    - from: n4
      to: n6
      label: test
      color: '#d29922'
    - from: n5
      to: n6
      label: test
      color: '#d29922'
